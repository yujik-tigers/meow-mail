<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title th:text="${result}">Meow</title>
    <link rel="icon" th:href="@{/favicon.ico}"/>

    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css"/>

    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>

    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#ffca45",
                        secondary: "#a1c606",
                        "pastel-bg": "#fffefc",
                        "background-dark": "#081022",
                    },
                    fontFamily: {
                        // 기본 서체를 Pretendard로 설정 (jakarta와 noto 제거)
                        display: ["Pretendard", "-apple-system", "BlinkMacSystemFont", "system-ui", "Roboto", "sans-serif"],
                        sans: ["Pretendard", "-apple-system", "BlinkMacSystemFont", "system-ui", "Roboto", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "1.5rem",
                    },
                },
            },
        };
    </script>
    <style type="text/tailwindcss">
        body {
            /* font-display 대신 tailwind에서 정의한 fontFamily.display 사용 */
            @apply bg-pastel-bg dark:bg-background-dark font-display;
            --accent-pill-bg: rgba(161, 198, 6, 0.15);
            --accent-pill-text: #a1c606;
            --card-shadow: 0 18px 35px rgba(0, 0, 0, 0.08);
            --card-shadow-dark: 0 15px 35px rgba(0, 0, 0, 0.25);
            --chip-bg: rgba(255, 255, 255, 0.6);
            --chip-text: #4b5563;
            --chip-text-dark: #9ca3af;
            --chip-bg-dark: rgba(31, 41, 55, 0.6);
        }

        body.error-theme {
            background-color: #fff5f5;
            --accent-pill-bg: rgba(254, 226, 226, 0.67);
            --accent-pill-text: #b91c1c;
            --card-shadow: 0 18px 35px rgba(248, 113, 113, 0.22);
            --card-shadow-dark: 0 15px 35px rgba(185, 28, 28, 0.3);
            --chip-bg: rgba(254, 226, 226, 0.85);
            --chip-text: #b91c1c;
            --chip-text-dark: #fecdd3;
            --chip-bg-dark: rgba(69, 10, 10, 0.7);
        }

        html.dark body {
            --accent-pill-bg: rgba(66, 81, 7, 0.49);
            --accent-pill-text: #fef3c7;
        }

        html.dark body.error-theme {
            background-color: #081022;
            --accent-pill-bg: rgba(248, 113, 113, 0.35);
            --accent-pill-text: #fecaca;
        }

        .status-pill {
            @apply inline-flex items-center gap-2 px-4 py-2 rounded-full mb-8 font-bold text-sm;
            background-color: var(--accent-pill-bg);
            color: var(--accent-pill-text);
        }

        .result-card {
            box-shadow: var(--card-shadow);
        }

        html.dark .result-card {
            box-shadow: var(--card-shadow-dark);
        }

        .info-chip {
            background-color: var(--chip-bg);
            color: var(--chip-text);
        }

        html.dark .info-chip {
            background-color: var(--chip-bg-dark);
            color: var(--chip-text-dark);
        }

        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }

        @keyframes float {
            0% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
            100% {
                transform: translateY(0px);
            }
        }

        .floating {
            animation: float 3s ease-in-out infinite
        }
    </style>
</head>

<body class="origin-center bg-background-light dark:bg-background-dark font-display min-h-screen flex items-center justify-center p-6 cat-pattern transition-colors duration-300"
      th:classappend="${type} == 'error' ? ' error-theme' : ' info-theme'">
<main>
    <button class="fixed top-6 right-6 w-12 h-12 flex items-center justify-center rounded-full bg-white dark:bg-gray-800 shadow-lg text-gray-600 dark:text-gray-300 hover:scale-110 transition-transform"
            onclick="document.documentElement.classList.toggle('dark')">
        <span class="material-symbols-outlined text-xl">dark_mode</span>
    </button>
    <div class="max-w-3xl w-full">
        <div class="result-card bg-white dark:bg-gray-900 rounded-[2.5rem] overflow-hidden">
            <div class="p-10 text-center">
                <div class="status-pill inline-flex items-center gap-2 px-4 py-2 rounded-full mb-8 font-bold text-sm">
                    <span class="material-symbols-outlined text-lg">pets</span>
                    <p th:text="${result}"></p>
                </div>
                <div class="relative w-48 h-48 mx-auto mb-10 floating" th:if="${result} == 'Subscription Confirmed'">
                    <div class="absolute inset-0 bg-primary/10 rounded-full scale-110"></div>
                    <img alt="Cute orange cat looking out" class="w-full h-full object-cover rounded-full border-4 border-white dark:border-gray-800 shadow-xl relative z-10"
                         src="https://lh3.googleusercontent.com/aida-public/AB6AXuDCWBLFBM6Wy3MabnpRzCx8bb4YGXNc3wYa7PPyMEb0Ib_a2qD04q0Z-8RJDtxRrPdDMv1JhWFcQjwBVu_QRXgTklZvyf2nFCDGRJVGfRKNdS-s5Rqe893uKMuHvF1xNA_bWoI070X373tk4CifPHyuVxtVfc1OT2s_WY3nshcmX-LTiLOZAlRbmj1dV5rl6JMboHVK4ED3z-v1saQr54tItquFTanqdNDrRYSjiRxtPlMbMBbW_Z5js-iDUGT0DyIUSYkD4SwMJbBw"/>
                    <div class="absolute bottom-0 right-0 w-12 h-12 flex items-center justify-center bg-primary text-white rounded-full shadow-lg z-20">
                        <span class="material-symbols-outlined text-xl leading-none">mark_email_read</span>
                    </div>
                </div>
                <h1 class="text-4xl font-black text-gray-900 dark:text-white mb-5 leading-tight" th:text="${title_en}"></h1>
                <p class="text-xl text-gray-600 dark:text-gray-400 mb-3 font-medium leading-relaxed whitespace-pre-line" th:text="${message_ko}"></p>
                <p class="text-lg text-gray-600 dark:text-gray-400 mb-8 font-medium leading-relaxed whitespace-pre-line italic" th:text="${message_en}"></p>
                <div class="pt-8 border-t border-gray-100 dark:border-gray-800 space-y-1">
                    <p class="text-sm text-gray-400 dark:text-gray-500">이제 이 창을 닫으셔도 좋습니다</p>
                    <p class="text-sm text-gray-400 dark:text-gray-500 italic">You’re all set! Feel free to close this tab</p>
                </div>
            </div>
        </div>
        <div class="mt-8 flex justify-center gap-4" th:if="${type} != 'error'">
            <div class="info-chip backdrop-blur-md px-4 py-2 rounded-full text-xs flex items-center gap-2 font-semibold">
                <span class="material-symbols-outlined text-sm">cake</span>
                Coming soon: Your daily dose of cute
            </div>
            <div class="info-chip backdrop-blur-md px-4 py-2 rounded-full text-xs flex items-center gap-2 font-semibold">
                <span class="material-symbols-outlined text-sm">verified</span>
                100% Cat Approved
            </div>
            <div class="info-chip backdrop-blur-md px-4 py-2 rounded-full text-xs flex items-center gap-2 font-semibold">
                <span class="material-symbols-outlined text-sm">mail</span>
                subscribe.mail.meow@gmail.com
            </div>
        </div>
    </div>
</main>
</body>
</html>
